{"version":3,"file":"js/Status.7ff38381.js","mappings":"8JAEIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAGE,EAAA,EAAM,CAACF,EAAG,WAAW,EAC3F,EACIG,EAAkB,G,kICYlB,EAAS,WAAkB,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAGI,EAAA,EAAW,CAAEN,EAAc,WAAEE,EAAGK,EAAA,EAAK,CAACL,EAAGM,EAAA,EAAK,CAACC,MAAM,CAAC,KAAO,OAAO,CAACP,EAAGQ,EAAA,EAAM,CAACR,EAAG,KAAW,CAACF,EAAIW,GAAG,gCAAgCX,EAAIY,GAAGZ,EAAIa,UAAUC,MAAM,OAAOZ,EAAGa,EAAA,EAAU,CAACb,EAAGc,EAAA,GAAiB,CAACd,EAAGc,EAAA,GAAkB,CAAChB,EAAIW,GAAG,eAAeX,EAAIY,GAAGZ,EAAIa,UAAUI,cAAcf,EAAGc,EAAA,GAAkB,CAAChB,EAAIW,GAAG,mBAAmBX,EAAIY,GAAGZ,EAAIa,UAAUK,eAAehB,EAAGc,EAAA,GAAkB,CAAChB,EAAIW,GAAG,gBAAgBX,EAAIY,GAAGZ,EAAIa,UAAUM,SAASjB,EAAGc,EAAA,GAAkB,CAAChB,EAAIW,GAAG,oBAAoBX,EAAIY,GAAGZ,EAAIa,UAAUO,cAAc,IAAI,IAAI,IAAI,IAAI,GAAGpB,EAAIqB,KAAMrB,EAAc,WAAEE,EAAGK,EAAA,EAAK,CAACL,EAAGM,EAAA,EAAK,CAACC,MAAM,CAAC,KAAO,OAAO,CAACP,EAAGQ,EAAA,EAAM,CAACR,EAAG,KAAW,CAACF,EAAIW,GAAG,6BAA6BT,EAAGoB,EAAA,GAASpB,EAAGqB,EAAA,EAAW,CAACd,MAAM,CAAC,cAAc,cAAc,MAAQ,SAAS,cAAc,GAAG,eAAe,IAAIe,MAAM,CAACC,MAAOzB,EAAU,OAAE0B,SAAS,SAAUC,GAAM3B,EAAI4B,OAAOD,CAAG,EAAEE,WAAW,YAAY3B,EAAGoB,EAAA,GAASpB,EAAG4B,EAAA,EAAK,CAACrB,MAAM,CAAC,MAAQ,WAAWsB,GAAG,CAAC,MAAQ/B,EAAIgC,SAAS,CAAChC,EAAIW,GAAG,YAAYT,EAAG+B,EAAA,EAAM,CAACxB,MAAM,CAAC,MAAQ,GAAG,KAAO,KAAK,CAACT,EAAIW,GAAG,iBAAiB,IAAI,GAAGT,EAAGgC,EAAA,EAAW,CAACzB,MAAM,CAAC,QAAUT,EAAImC,QAAQ,MAAQnC,EAAIoC,QAAQ,OAASpC,EAAI4B,QAAQS,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,iBAAiBC,GAAG,UAAS,KAAEC,IAAQ,MAAO,CAAEA,EAAc,UAAEvC,EAAG+B,EAAA,EAAM,CAACxB,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACT,EAAIW,GAAG,qBAAqBT,EAAG+B,EAAA,EAAM,CAACxB,MAAM,CAAC,KAAO,KAAK,CAACT,EAAIW,GAAG,wBAAwB,GAAG,CAAC4B,IAAI,qBAAqBC,GAAG,UAAS,KAAEC,IAAQ,MAAO,CAACzC,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAI0C,cAAcD,EAAKE,gBAAgB,KAAK,GAAG,CAACJ,IAAI,wBAAwBC,GAAG,UAAS,KAAEC,IAAQ,MAAO,CAACzC,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAI0C,cAAcD,EAAKG,mBAAmB,KAAK,GAAG,CAACL,IAAI,kBAAkBC,GAAG,UAAS,KAAEC,IAAQ,OAAOzC,EAAI6C,GAAIJ,EAAe,YAAE,SAASK,EAAGC,GAAG,OAAO7C,EAAG8C,EAAA,EAAM,CAACT,IAAIQ,EAAEtC,MAAM,CAAC,MAAQ,SAAS,aAAa,UAAU,CAACP,EAAG+B,EAAA,EAAM,CAACxB,MAAM,CAAC,KAAO,KAAK,CAACT,EAAIW,GAAG,oBAAoBX,EAAIW,GAAG,IAAIX,EAAIY,GAAGkC,GAAI,MAAM,EAAE,GAAE,GAAG,CAACP,IAAI,qBAAqBC,GAAG,UAAS,KAAEC,IAAQ,MAAO,CAACvC,EAAGK,EAAA,EAAK,CAACL,EAAG,IAAI,CAACF,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIiD,GAAG,aAAPjD,CAAqByC,EAAKS,gBAAgB,KAAKlD,EAAIY,GAAG6B,EAAKU,uBAAuB,SAAS,IAAI,MAAK,EAAM,eAAe,IAAI,IAAI,GAAGjD,EAAGK,EAAA,EAAK,CAACL,EAAGM,EAAA,EAAK,CAACC,MAAM,CAAC,KAAO,OAAO,CAACP,EAAGQ,EAAA,EAAM,CAACR,EAAG,KAAW,CAACF,EAAIW,GAAG,6BAA8BX,EAAW,QAAEE,EAAG,KAAU,CAACF,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIoD,UAAUlD,EAAG,KAAU,CAACF,EAAIW,GAAG,6CAA6C,IAAI,IAAI,IAAI,EAC50E,EACI,EAAkB,G,SC0EpB,GACEG,KAAM,SAENuC,KAAM,KAAM,CACVzB,OAAQ,GACRO,QAAS,CACP,CAAEmB,KAAM,YAAa7B,MAAO,aAC5B,CAAE6B,KAAM,OAAQ7B,MAAO,QACvB,CAAE6B,KAAM,WAAY7B,MAAO,YAC3B,CAAE6B,KAAM,eAAgB7B,MAAO,aAAc8B,UAAU,GACvD,CAAED,KAAM,iBAAkB7B,MAAO,iBACjC,CAAE6B,KAAM,oBAAqB7B,MAAO,oBACpC,CAAE6B,KAAM,iBAAkB7B,MAAO,oBAIrC+B,SAAS,KACJ,QAAW,CACZ3C,UAAW,yBACXuB,QAAS,sBACTqB,QAAS,iBACTL,MAAO,iBAETM,WAAY,WACV,OAAOzD,KAAKwD,SAA6B,MAAlBxD,KAAKY,WAA6C,KAAxBZ,KAAKY,UAAUC,IAClE,GAGF6C,UACE1D,KAAK2D,cACF3D,KAAKwD,SACNxD,KAAK4D,YAET,EAEAC,MAAO,CACLL,QAAQM,EAAUC,GACZ/D,KAAKwD,SACPxD,KAAK4D,YAET,GAGFI,QAAS,KACJ,QAAW,SAAU,CACtBJ,WAAY,OACZD,YAAa,cAGf5B,SACE/B,KAAK4D,YACP,EAGAnB,cAAcwB,EAAOC,GAAG,EAAOC,EAAG,GAChC,MAAMC,EAASF,EAAK,IAAO,KAE3B,GAAIG,KAAKC,IAAIL,GAASG,EACpB,OAAOH,EAAQ,KAGjB,MAAMM,EAAQL,EACR,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC3C,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxD,IAAIM,GAAK,EACT,MAAMC,EAAI,IAAIN,EAEd,GACEF,GAASG,IACPI,QACKH,KAAKK,MAAML,KAAKC,IAAIL,GAASQ,GAAKA,GAAKL,GAAUI,EAAID,EAAMI,OAAS,GAG7E,OAAOV,EAAMW,QAAQT,GAAM,IAAMI,EAAMC,EACzC,ICtK6H,I,UCO/HK,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QCT9B,GACEhE,KAAM,SACNiE,WAAY,CACVC,OAAM,ICZuH,ICO/H,GAAY,OACd,EACAjF,EACAM,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,O","sources":["webpack://ui/./src/views/Status.vue?ce88","webpack://ui/./src/components/Status.vue?69de","webpack://ui/src/components/Status.vue","webpack://ui/./src/components/Status.vue?fffd","webpack://ui/./src/components/Status.vue","webpack://ui/src/views/Status.vue","webpack://ui/./src/views/Status.vue?ad82","webpack://ui/./src/views/Status.vue"],"sourcesContent":["import { VMain } from 'vuetify/lib/components/VMain';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMain,[_c('Status')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,[(_vm.dataLoaded)?_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,[_c(VCardTitle,[_vm._v(\" WireGuard Interface Status: \"+_vm._s(_vm.interface.name)+\" \")]),_c(VListItem,[_c(VListItemContent,[_c(VListItemSubtitle,[_vm._v(\"Public Key: \"+_vm._s(_vm.interface.publicKey))]),_c(VListItemSubtitle,[_vm._v(\"Listening Port: \"+_vm._s(_vm.interface.listenPort))]),_c(VListItemSubtitle,[_vm._v(\"Device Type: \"+_vm._s(_vm.interface.type))]),_c(VListItemSubtitle,[_vm._v(\"Number of Peers: \"+_vm._s(_vm.interface.numPeers))])],1)],1)],1)],1)],1):_vm._e(),(_vm.dataLoaded)?_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,[_c(VCardTitle,[_vm._v(\" WireGuard Client Status \"),_c(VSpacer),_c(VTextField,{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer),_c(VBtn,{attrs:{\"color\":\"success\"},on:{\"click\":_vm.reload}},[_vm._v(\" Reload \"),_c(VIcon,{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-reload\")])],1)],1),_c(VDataTable,{attrs:{\"headers\":_vm.headers,\"items\":_vm.clients,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.connected\",fn:function({ item }){return [(item.connected)?_c(VIcon,{attrs:{\"left\":\"\",\"color\":\"success\"}},[_vm._v(\"mdi-lan-connect\")]):_c(VIcon,{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-lan-disconnect\")])]}},{key:\"item.receivedBytes\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.humanFileSize(item.receivedBytes))+\" \")]}},{key:\"item.transmittedBytes\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.humanFileSize(item.transmittedBytes))+\" \")]}},{key:\"item.allowedIPs\",fn:function({ item }){return _vm._l((item.allowedIPs),function(ip,i){return _c(VChip,{key:i,attrs:{\"color\":\"indigo\",\"text-color\":\"white\"}},[_c(VIcon,{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-ip-network\")]),_vm._v(\" \"+_vm._s(ip)+\" \")],1)})}},{key:\"item.lastHandshake\",fn:function({ item }){return [_c(VRow,[_c('p',[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.lastHandshake))+\" (\"+_vm._s(item.lastHandshakeRelative)+\")\")])])]}}],null,false,1537719046)})],1)],1)],1):_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,[_c(VCardTitle,[_vm._v(\" No stats available... \")]),(_vm.enabled)?_c(VCardText,[_vm._v(_vm._s(_vm.error))]):_c(VCardText,[_vm._v(\"Status API integration not configured.\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n      <v-row v-if=\"dataLoaded\">\r\n        <v-col cols=\"12\">\r\n          <v-card>\r\n            <v-card-title>\r\n              WireGuard Interface Status: {{ interface.name }}\r\n            </v-card-title>\r\n            <v-list-item>\r\n              <v-list-item-content>\r\n                <v-list-item-subtitle>Public Key: {{ interface.publicKey }}</v-list-item-subtitle>\r\n                <v-list-item-subtitle>Listening Port: {{ interface.listenPort }}</v-list-item-subtitle>\r\n                <v-list-item-subtitle>Device Type: {{ interface.type }}</v-list-item-subtitle>\r\n                <v-list-item-subtitle>Number of Peers: {{ interface.numPeers }}</v-list-item-subtitle>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"dataLoaded\">\r\n        <v-col cols=\"12\">\r\n          <v-card>\r\n            <v-card-title>\r\n              WireGuard Client Status\r\n              <v-spacer></v-spacer>\r\n              <v-text-field\r\n                  v-model=\"search\"\r\n                  append-icon=\"mdi-magnify\"\r\n                  label=\"Search\"\r\n                  single-line\r\n                  hide-details\r\n              ></v-text-field>\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                  color=\"success\"\r\n                  @click=\"reload\"\r\n              >\r\n                Reload\r\n                <v-icon right dark>mdi-reload</v-icon>\r\n              </v-btn>\r\n            </v-card-title>\r\n            <v-data-table\r\n              :headers=\"headers\"\r\n              :items=\"clients\"\r\n              :search=\"search\"\r\n          >\r\n            <template v-slot:item.connected=\"{ item }\">\r\n              <v-icon left v-if=\"item.connected\" color=\"success\">mdi-lan-connect</v-icon>\r\n              <v-icon left v-else>mdi-lan-disconnect</v-icon>\r\n            </template>\r\n            <template v-slot:item.receivedBytes=\"{ item }\">\r\n              {{ humanFileSize(item.receivedBytes) }}\r\n            </template>\r\n            <template v-slot:item.transmittedBytes=\"{ item }\">\r\n              {{ humanFileSize(item.transmittedBytes) }}\r\n            </template>\r\n            <template v-slot:item.allowedIPs=\"{ item }\">\r\n              <v-chip\r\n                  v-for=\"(ip, i) in item.allowedIPs\"\r\n                  :key=\"i\"\r\n                  color=\"indigo\"\r\n                  text-color=\"white\"\r\n              >\r\n                <v-icon left>mdi-ip-network</v-icon>\r\n                {{ ip }}\r\n              </v-chip>\r\n            </template>\r\n            <template v-slot:item.lastHandshake=\"{ item }\">\r\n              <v-row>\r\n                <p>{{ item.lastHandshake | formatDate }} ({{ item.lastHandshakeRelative }})</p>\r\n              </v-row>\r\n            </template>\r\n          </v-data-table>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-else>\r\n        <v-col cols=\"12\">\r\n          <v-card>\r\n            <v-card-title>\r\n              No stats available...\r\n            </v-card-title>\r\n            <v-card-text v-if=\"enabled\">{{ error }}</v-card-text>\r\n            <v-card-text v-else>Status API integration not configured.</v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n</template>\r\n<script>\r\n  import { mapActions, mapGetters } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Status',\r\n\r\n    data: () => ({\r\n      search: '',\r\n      headers: [\r\n        { text: 'Connected', value: 'connected', },\r\n        { text: 'Name', value: 'name', },\r\n        { text: 'Endpoint', value: 'endpoint', },\r\n        { text: 'IP addresses', value: 'allowedIPs', sortable: false, },\r\n        { text: 'Received Bytes', value: 'receivedBytes', },\r\n        { text: 'Transmitted Bytes', value: 'transmittedBytes', },\r\n        { text: 'Last Handshake', value: 'lastHandshake',} ,\r\n      ],\r\n    }),\r\n\r\n    computed:{\r\n      ...mapGetters({\r\n        interface: 'status/interfaceStatus',\r\n        clients: 'status/clientStatus',\r\n        enabled: 'status/enabled',\r\n        error: 'status/error',\r\n      }),\r\n      dataLoaded: function () {\r\n        return this.enabled && this.interface != null && this.interface.name !== \"\";\r\n      }\r\n    },\r\n\r\n    mounted () {\r\n      this.readEnabled()\r\n      if(this.enabled) {\r\n        this.readStatus()\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      enabled(newValue, oldValue) {\r\n        if (this.enabled) {\r\n          this.readStatus()\r\n        }\r\n      },\r\n    },\r\n\r\n    methods: {\r\n      ...mapActions('status', {\r\n        readStatus: 'read',\r\n        readEnabled: 'isEnabled',\r\n      }),\r\n\r\n      reload() {\r\n        this.readStatus()\r\n      },\r\n\r\n      // https://stackoverflow.com/questions/10420352/converting-file-size-in-bytes-to-human-readable-string\r\n      humanFileSize(bytes, si=false, dp=1) {\r\n        const thresh = si ? 1000 : 1024;\r\n\r\n        if (Math.abs(bytes) < thresh) {\r\n          return bytes + ' B';\r\n        }\r\n\r\n        const units = si\r\n            ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n            : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n        let u = -1;\r\n        const r = 10**dp;\r\n\r\n        do {\r\n          bytes /= thresh;\r\n          ++u;\r\n        } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\r\n\r\n\r\n        return bytes.toFixed(dp) + ' ' + units[u];\r\n      }\r\n    }\r\n  };\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=d2637a66&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-main>\r\n    <Status/>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\n  import Status from '../components/Status'\r\n\r\n  export default {\r\n    name: 'status',\r\n    components: {\r\n      Status\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.vue?vue&type=template&id=d56effa2&\"\nimport script from \"./Status.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","VMain","staticRenderFns","VContainer","VRow","VCol","attrs","VCard","_v","_s","interface","name","VListItem","VList","publicKey","listenPort","type","numPeers","_e","VSpacer","VTextField","model","value","callback","$$v","search","expression","VBtn","on","reload","VIcon","VDataTable","headers","clients","scopedSlots","_u","key","fn","item","humanFileSize","receivedBytes","transmittedBytes","_l","ip","i","VChip","_f","lastHandshake","lastHandshakeRelative","error","data","text","sortable","computed","enabled","dataLoaded","mounted","readEnabled","readStatus","watch","newValue","oldValue","methods","bytes","si","dp","thresh","Math","abs","units","u","r","round","length","toFixed","component","components","Status"],"sourceRoot":""}